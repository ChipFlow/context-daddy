<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>context-daddy</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-8adf115d.css">
        <link rel="stylesheet" href="css/general-2459343d.css">
        <link rel="stylesheet" href="css/chrome-ae938929.css">
        <link rel="stylesheet" href="css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-01b5a084.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-88e4d90f.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">context-daddy</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/ChipFlow/context-daddy" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="context-daddy-documentation"><a class="header" href="#context-daddy-documentation">context-daddy Documentation</a></h1>
<p>Internal documentation for context-daddy development.</p>
<h2 id="contents"><a class="header" href="#contents">Contents</a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Document</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td><a href="#architecture">Architecture</a></td><td>System architecture, components, data flow</td></tr>
<tr><td><a href="#testing">Testing</a></td><td>Test suite, CI workflows, guarantees</td></tr>
<tr><td><a href="#development">Development</a></td><td>Planned features, design decisions, history</td></tr>
<tr><td><a href="#the-story-so-far">The Story So Far</a></td><td>Project narrative, lessons learned, dragons</td></tr>
</tbody>
</table>
</div>
<h2 id="quick-links"><a class="header" href="#quick-links">Quick Links</a></h2>
<ul>
<li><a href="https://github.com/ChipFlow/context-daddy">Main README</a></li>
<li><a href="https://github.com/ChipFlow/context-daddy/blob/main/CHANGELOG.md">Changelog</a></li>
<li><a href="https://github.com/ChipFlow/context-daddy/blob/main/SKILL.md">Plugin Skills</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="architecture"><a class="header" href="#architecture">Architecture</a></h1>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>context-daddy is a Claude Code plugin that helps AI assistants understand large codebases quickly and efficiently. It combines:</p>
<ul>
<li><strong>Tree-sitter parsing</strong> - Extract semantic symbols (functions, classes, methods) from source code</li>
<li><strong>SQLite caching</strong> - Fast retrieval without re-parsing</li>
<li><strong>MCP server</strong> - Expose tools for code exploration</li>
<li><strong>Narrative documentation</strong> - Capture tribal knowledge that survives across sessions</li>
</ul>
<p>The core philosophy: help Claude build understanding through structured symbol maps before diving into specific implementations.</p>
<h2 id="system-architecture"><a class="header" href="#system-architecture">System Architecture</a></h2>
<pre class="mermaid">flowchart TB
    subgraph ClaudeCode["Claude Code"]
        Session["Session"]
        Hooks["Hooks Engine"]
    end

    subgraph Plugin["context-daddy Plugin"]
        subgraph HookScripts["Hook Scripts"]
            SessionStart["session-start.sh"]
            Stop["stop-reorient.sh"]
        end

        subgraph MCPServer["MCP Server"]
            Tools["Tool Handlers"]
            Watchdog["Watchdog"]
        end

        subgraph Indexing["Indexing Subprocess"]
            TreeSitter["Tree-sitter Parser"]
            MapGen["map.py"]
        end

        subgraph Narrative["Narrative System"]
            GenNarrative["generate-narrative.py"]
            UpdateNarrative["update-narrative.py"]
        end
    end

    subgraph Storage["Storage (.claude/)"]
        DB[(repo-map.db)]
        NarrativeMD["narrative.md"]
        Learnings["learnings.md"]
    end

    Session --&gt; Hooks
    Hooks --&gt; SessionStart
    Hooks --&gt; Stop

    Session &lt;--&gt;|"MCP Protocol"| MCPServer
    Tools --&gt; DB
    Watchdog --&gt; Indexing

    MCPServer --&gt;|"spawns"| Indexing
    Indexing --&gt; DB

    GenNarrative --&gt; NarrativeMD
    UpdateNarrative --&gt; NarrativeMD
    Stop --&gt; NarrativeMD

    classDef claude fill:#E6E6FA,stroke:#333,stroke-width:2px,color:darkblue
    classDef plugin fill:#90EE90,stroke:#333,stroke-width:2px,color:darkgreen
    classDef storage fill:#87CEEB,stroke:#333,stroke-width:2px,color:darkblue

    class ClaudeCode claude
    class Plugin,HookScripts,MCPServer,Indexing,Narrative plugin
    class Storage,DB,NarrativeMD,Learnings storage
</pre>

<h2 id="core-components"><a class="header" href="#core-components">Core Components</a></h2>
<h3 id="mcp-server-serversrepo-map-serverpy"><a class="header" href="#mcp-server-serversrepo-map-serverpy">MCP Server (<code>servers/repo-map-server.py</code>)</a></h3>
<p>The MCP server provides tools for code exploration:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Tool</th><th>Purpose</th></tr>
</thead>
<tbody>
<tr><td><code>search_symbols</code></td><td>Find functions/classes by name pattern (glob wildcards)</td></tr>
<tr><td><code>get_symbol_content</code></td><td>Get source code of a specific symbol</td></tr>
<tr><td><code>get_file_symbols</code></td><td>List all symbols in a file</td></tr>
<tr><td><code>list_files</code></td><td>List indexed files with optional glob filter</td></tr>
<tr><td><code>reindex_repo_map</code></td><td>Trigger re-indexing</td></tr>
<tr><td><code>repo_map_status</code></td><td>Check indexing status</td></tr>
<tr><td><code>md_outline</code></td><td>Get markdown document structure</td></tr>
<tr><td><code>md_get_section</code></td><td>Get content under a heading</td></tr>
</tbody>
</table>
</div>
<p>The server runs persistently during Claude sessions and handles concurrent requests while indexing runs in the background.</p>
<h3 id="indexing-pipeline-scriptsmappy"><a class="header" href="#indexing-pipeline-scriptsmappy">Indexing Pipeline (<code>scripts/map.py</code>)</a></h3>
<p>The indexer uses tree-sitter to parse source files and extract:</p>
<ul>
<li>Function/method signatures and docstrings</li>
<li>Class definitions and inheritance</li>
<li>Module-level constants and variables</li>
</ul>
<p><strong>Supported languages</strong>: Python, JavaScript/TypeScript, Rust, Go, C/C++, Java, Ruby, and more.</p>
<p><strong>Process isolation</strong>: Indexing runs in a subprocess with resource limits:</p>
<ul>
<li>Memory: 4GB virtual address space</li>
<li>CPU: 20 minutes timeout</li>
<li>Watchdog monitors for hung processes</li>
</ul>
<h3 id="hook-system"><a class="header" href="#hook-system">Hook System</a></h3>
<p>Hooks integrate with Claude Code’s lifecycle:</p>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Hook</th><th>Trigger</th><th>Purpose</th></tr>
</thead>
<tbody>
<tr><td><code>SessionStart</code></td><td>Session begins</td><td>Load context, trigger indexing</td></tr>
<tr><td><code>Stop</code></td><td>Session ends</td><td>Update narrative, capture learnings</td></tr>
</tbody>
</table>
</div>
<p>Hooks are autodiscovered from <code>hooks/hooks.json</code> - they don’t need to be declared in <code>plugin.json</code>.</p>
<h3 id="narrative-documentation"><a class="header" href="#narrative-documentation">Narrative Documentation</a></h3>
<p>The narrative system captures “tribal knowledge” - the stories, decisions, and insights that accumulate around codebases:</p>
<ul>
<li><strong><code>generate-narrative.py</code></strong> - Bootstrap narrative from git history and project structure</li>
<li><strong><code>update-narrative.py</code></strong> - Revise narrative after development sessions</li>
</ul>
<p>Output lives in <code>.claude/narrative.md</code> and provides context that survives across sessions.</p>
<h2 id="data-flow"><a class="header" href="#data-flow">Data Flow</a></h2>
<pre class="mermaid">sequenceDiagram
    participant CC as Claude Code
    participant Hook as Hook Script
    participant MCP as MCP Server
    participant Idx as Indexer
    participant DB as SQLite

    Note over CC,DB: Session Start
    CC-&gt;&gt;Hook: SessionStart
    Hook-&gt;&gt;MCP: Check status
    MCP-&gt;&gt;DB: Read metadata
    alt Needs indexing
        MCP-&gt;&gt;Idx: Spawn subprocess
        Idx-&gt;&gt;DB: Write symbols (WAL)
    end
    Hook--&gt;&gt;CC: Context loaded

    Note over CC,DB: During Session
    CC-&gt;&gt;MCP: search_symbols("*Handler")
    MCP-&gt;&gt;DB: Query symbols table
    DB--&gt;&gt;MCP: Results
    MCP--&gt;&gt;CC: Formatted markdown

    Note over CC,DB: Session End
    CC-&gt;&gt;Hook: Stop
    Hook-&gt;&gt;Hook: Update narrative
</pre>

<h2 id="process-architecture"><a class="header" href="#process-architecture">Process Architecture</a></h2>
<h3 id="why-multiprocess"><a class="header" href="#why-multiprocess">Why Multiprocess?</a></h3>
<p>Tree-sitter is a native C extension that runs in-process. If parsing hangs (e.g., malformed file triggers infinite loop), the entire Python process freezes. Our solution:</p>
<pre class="mermaid">flowchart LR
    subgraph MCP["MCP Server (always responsive)"]
        Handler["Tool handlers"]
        Watch["Watchdog thread"]
    end

    subgraph Sub["Indexer Subprocess"]
        TS["tree-sitter parsing"]
    end

    MCP --&gt;|"spawns"| Sub
    Watch --&gt;|"can SIGKILL"| Sub
    Sub --&gt;|"writes"| DB[(SQLite WAL)]
    MCP &lt;--&gt;|"reads"| DB

    classDef server fill:#90EE90,stroke:#333,color:darkgreen
    classDef sub fill:#87CEEB,stroke:#333,color:darkblue

    class MCP server
    class Sub sub
</pre>

<p><strong>Benefits:</strong></p>
<ul>
<li>MCP server stays responsive during indexing</li>
<li>Watchdog can kill hung indexer without affecting MCP</li>
<li>SQLite WAL handles concurrent read/write safely</li>
</ul>
<h3 id="watchdog"><a class="header" href="#watchdog">Watchdog</a></h3>
<p>The watchdog monitors indexing status:</p>
<ul>
<li>Checks every 60 seconds</li>
<li>Detects indexing stuck &gt;10 minutes</li>
<li>Sets <code>status='failed'</code> and can SIGKILL the subprocess</li>
<li>Safety check prevents hung process from overwriting database after intervention</li>
</ul>
<h2 id="database-schema"><a class="header" href="#database-schema">Database Schema</a></h2>
<pre><code class="language-sql">-- Symbol definitions
CREATE TABLE symbols (
    id INTEGER PRIMARY KEY,
    name TEXT NOT NULL,
    kind TEXT NOT NULL,           -- 'function', 'class', 'method'
    signature TEXT,
    docstring TEXT,
    file_path TEXT NOT NULL,
    line_number INTEGER NOT NULL,
    end_line_number INTEGER,
    parent TEXT                   -- For methods: parent class name
);

-- Full-text search (partially implemented)
CREATE VIRTUAL TABLE code_text_fts USING fts5(
    file_path UNINDEXED,
    line_number UNINDEXED,
    element_type UNINDEXED,
    symbol_name UNINDEXED,
    content
);

-- Indexing metadata
CREATE TABLE metadata (
    key TEXT PRIMARY KEY,
    value TEXT NOT NULL
);
-- Keys: status, db_version, last_indexed, symbol_count
</code></pre>
<h2 id="design-decisions"><a class="header" href="#design-decisions">Design Decisions</a></h2>
<h3 id="subprocess-over-threads"><a class="header" href="#subprocess-over-threads">Subprocess over threads</a></h3>
<p><strong>Problem</strong>: Hung tree-sitter parsing would freeze the entire MCP server.</p>
<p><strong>Solution</strong>: Run indexing in a subprocess that can be killed independently.</p>
<h3 id="wal-mode--single-transaction"><a class="header" href="#wal-mode--single-transaction">WAL mode + single transaction</a></h3>
<p><strong>Problem</strong>: Crash during indexing could leave database in partial state.</p>
<p><strong>Solution</strong>: All writes in a single transaction; crash = rollback to clean state.</p>
<h3 id="markdown-over-json"><a class="header" href="#markdown-over-json">Markdown over JSON</a></h3>
<p><strong>Problem</strong>: JSON responses consume context tokens inefficiently.</p>
<p><strong>Solution</strong>: MCP tools return formatted markdown that’s human-readable and compact.</p>
<h3 id="hooks-autodiscovery"><a class="header" href="#hooks-autodiscovery">Hooks autodiscovery</a></h3>
<p><strong>Problem</strong>: Declaring hooks in both <code>plugin.json</code> and <code>hooks/hooks.json</code> caused validation errors.</p>
<p><strong>Solution</strong>: Hooks are autodiscovered from <code>hooks/hooks.json</code> only. Don’t declare them in <code>plugin.json</code>.</p>
<h3 id="narrative-documentation-1"><a class="header" href="#narrative-documentation-1">Narrative documentation</a></h3>
<p><strong>Problem</strong>: Traditional docs capture what code does, not why or what was learned building it.</p>
<p><strong>Solution</strong>: Generate and evolve “tribal knowledge” narratives that capture project stories, gotchas, and evolving understanding.</p>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="testing"><a class="header" href="#testing">Testing</a></h1>
<h2 id="running-tests"><a class="header" href="#running-tests">Running Tests</a></h2>
<pre><code class="language-bash"># Run all unit tests
uv run pytest tests/

# Run specific test file
uv run pytest tests/test_plugin_config.py

# Run plugin config validation (standalone)
uv run tests/test_plugin_config.py
</code></pre>
<h2 id="test-files"><a class="header" href="#test-files">Test Files</a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>File</th><th>Purpose</th></tr>
</thead>
<tbody>
<tr><td><code>tests/test_plugin_config.py</code></td><td>Plugin configuration validation (7 tests)</td></tr>
<tr><td><code>tests/test_mcp_tools.py</code></td><td>MCP tool functionality</td></tr>
<tr><td><code>tests/test_list_files.py</code></td><td>File listing with glob patterns</td></tr>
</tbody>
</table>
</div>
<h2 id="ci-workflows"><a class="header" href="#ci-workflows">CI Workflows</a></h2>
<div class="table-wrapper">
<table>
<thead>
<tr><th>Workflow</th><th>Trigger</th><th>Purpose</th></tr>
</thead>
<tbody>
<tr><td><code>ci.yml</code></td><td>push, PR</td><td>Structure validation, script tests</td></tr>
<tr><td><code>test-hooks.yml</code></td><td>push to main</td><td>E2E hook execution</td></tr>
<tr><td><code>e2e-test.yml</code></td><td>manual</td><td>Full E2E testing with Claude</td></tr>
<tr><td><code>pages.yml</code></td><td>push to main</td><td>Deploy documentation</td></tr>
<tr><td><code>preview-docs.yml</code></td><td>PR</td><td>Documentation preview</td></tr>
</tbody>
</table>
</div>
<p><strong>Note</strong>: E2E tests require <code>ANTHROPIC_API_KEY</code> secret.</p>
<h2 id="plugin-configuration-tests"><a class="header" href="#plugin-configuration-tests">Plugin Configuration Tests</a></h2>
<p><code>test_plugin_config.py</code> validates:</p>
<ol>
<li><strong>Required fields</strong> - plugin.json has name, version, description, author, keywords, repository</li>
<li><strong>Hooks discovery</strong> - hooks/hooks.json exists (autodiscovered by Claude Code)</li>
<li><strong>Hook types</strong> - All hook types are valid (SessionStart, PreCompact, Stop, etc.)</li>
<li><strong>Script existence</strong> - All referenced scripts in hooks.json exist</li>
<li><strong>Version format</strong> - Version follows semver (X.Y.Z)</li>
<li><strong>MCP servers</strong> - Referenced server scripts exist</li>
<li><strong>Version consistency</strong> - plugin.json and marketplace.json versions match</li>
</ol>
<h2 id="e2e-hook-tests"><a class="header" href="#e2e-hook-tests">E2E Hook Tests</a></h2>
<p><code>.github/workflows/test-hooks.yml</code> tests:</p>
<ul>
<li><strong>SessionStart hook</strong> - Creates .claude directory and manifest</li>
<li><strong>PreCompact + Stop hooks</strong> - Verifies compaction flow via turn limits</li>
<li><strong>Artifact verification</strong> - Checks repo-map.db creation and MCP logs</li>
</ul>
<h2 id="test-guarantees"><a class="header" href="#test-guarantees">Test Guarantees</a></h2>
<h3 id="transaction-safety"><a class="header" href="#transaction-safety">Transaction Safety</a></h3>
<ul>
<li>All database writes in single BEGIN IMMEDIATE / COMMIT block</li>
<li>WAL mode enabled for crash safety</li>
<li>Atomic rename only after successful commit</li>
<li>Rollback on exception (no partial state)</li>
</ul>
<h3 id="watchdog-1"><a class="header" href="#watchdog-1">Watchdog</a></h3>
<ul>
<li>Detects indexing hung &gt;10 minutes</li>
<li>Sets status=‘failed’ with error message</li>
<li>Prevents hung process from overwriting after intervention</li>
<li>Runs on server startup and every 60 seconds</li>
</ul>
<h3 id="data-integrity"><a class="header" href="#data-integrity">Data Integrity</a></h3>
<ul>
<li>Safety check before rename prevents watchdog race condition</li>
<li>Concurrent reads during indexing handled by SQLite WAL</li>
<li>Recovery from failed/crashed indexing supported</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="development"><a class="header" href="#development">Development</a></h1>
<p>Future plans, design decisions, and development history.</p>
<h2 id="planned-features"><a class="header" href="#planned-features">Planned Features</a></h2>
<h3 id="string-literals-and-comments-indexing"><a class="header" href="#string-literals-and-comments-indexing">String Literals and Comments Indexing</a></h3>
<p><strong>Status</strong>: Planned</p>
<p>Extend repo-map indexing to capture string literals and comments, enabling concept searches without grep.</p>
<p><strong>Use Cases:</strong></p>
<ul>
<li>Find error messages: <code>search_strings("connection failed")</code></li>
<li>Find TODOs: <code>search_comments(tags="TODO")</code></li>
<li>Find API endpoints: <code>search_strings("/api/users")</code></li>
</ul>
<p><strong>Schema Extensions:</strong></p>
<pre><code class="language-sql">CREATE TABLE string_literals (
    id INTEGER PRIMARY KEY,
    content TEXT NOT NULL,
    file_path TEXT NOT NULL,
    line_number INTEGER NOT NULL,
    context TEXT,
    kind TEXT  -- single, double, triple, f-string, raw
);

CREATE TABLE comments (
    id INTEGER PRIMARY KEY,
    content TEXT NOT NULL,
    file_path TEXT NOT NULL,
    line_number INTEGER NOT NULL,
    kind TEXT,  -- line, block, docstring
    tags TEXT   -- TODO, FIXME, NOTE, etc.
);
</code></pre>
<p><strong>New MCP Tools:</strong></p>
<ul>
<li><code>search_strings(pattern, file?)</code> - Find string literals</li>
<li><code>search_comments(pattern?, tags?, file?)</code> - Find comments</li>
<li><code>get_todos()</code> / <code>get_fixmes()</code> - Convenience tools</li>
</ul>
<h3 id="full-text-search-fts"><a class="header" href="#full-text-search-fts">Full-Text Search (FTS)</a></h3>
<p><strong>Status</strong>: Partially Implemented</p>
<p>The FTS5 table schema exists but is not yet populated or exposed via MCP tools.</p>
<p><strong>What’s done:</strong></p>
<ul>
<li>FTS5 virtual table created in schema (<code>code_text_fts</code>)</li>
<li>Table structure supports comments, docstrings, and string literals</li>
</ul>
<p><strong>What’s remaining:</strong></p>
<ul>
<li>Populate FTS table during indexing (extract strings/comments from tree-sitter AST)</li>
<li>Add <code>search_text()</code> MCP tool</li>
<li>Wire up to existing indexing pipeline</li>
</ul>
<p><strong>Schema (already in place):</strong></p>
<pre><code class="language-sql">CREATE VIRTUAL TABLE code_text_fts USING fts5(
    file_path UNINDEXED,
    line_number UNINDEXED,
    element_type UNINDEXED,  -- 'comment', 'docstring', 'string_literal'
    symbol_name UNINDEXED,
    content,
    tokenize='unicode61 remove_diacritics 2'
);
</code></pre>
<p><strong>Expected performance</strong>: FTS5 queries &lt;50ms vs grep 100-500ms (10-20x faster).</p>
<h3 id="other-ideas"><a class="header" href="#other-ideas">Other Ideas</a></h3>
<ul>
<li><strong>Multi-Repository Support</strong> - Track symbols across related repos</li>
<li><strong>Symbol References</strong> - Call graph: where symbols are used, not just defined</li>
<li><strong>Import/Include Tracking</strong> - Index dependencies</li>
<li><strong>AI-Powered Similar Code</strong> - Embeddings for semantic search</li>
</ul>
<hr>
<h2 id="completed-features"><a class="header" href="#completed-features">Completed Features</a></h2>
<h3 id="v010x---documentation--ci"><a class="header" href="#v010x---documentation--ci">v0.10.x - Documentation &amp; CI</a></h3>
<ul>
<li>mdbook documentation with GitHub Pages</li>
<li>PR preview workflow</li>
<li>Mermaid diagrams in architecture docs</li>
</ul>
<h3 id="v09x---plugin-stability"><a class="header" href="#v09x---plugin-stability">v0.9.x - Plugin Stability</a></h3>
<ul>
<li>Database versioning for schema compatibility</li>
<li>Plugin configuration validation tests</li>
<li>E2E hook testing in CI</li>
</ul>
<h3 id="v080---multiprocess-architecture"><a class="header" href="#v080---multiprocess-architecture">v0.8.0 - Multiprocess Architecture</a></h3>
<p>Changed from thread-based to subprocess-based indexing.</p>
<p><strong>Why</strong>: Hung tree-sitter parsing would freeze the entire MCP server.</p>
<p><strong>Solution</strong>:</p>
<ul>
<li><code>do_index()</code> spawns subprocess: <code>uv run scripts/generate-repo-map.py</code></li>
<li>Watchdog can SIGKILL hung subprocess without affecting MCP server</li>
<li>SQLite WAL handles concurrent read (MCP) / write (subprocess)</li>
</ul>
<p><strong>Resource Limits</strong>:</p>
<ul>
<li>Memory: 4GB virtual address space</li>
<li>CPU: 20 minutes timeout</li>
<li>Watchdog checks every 60 seconds</li>
</ul>
<h3 id="v07x---indexing-status--watchdog"><a class="header" href="#v07x---indexing-status--watchdog">v0.7.x - Indexing Status &amp; Watchdog</a></h3>
<p>Added metadata table to track indexing status and detect hung processes.</p>
<p><strong>Metadata keys</strong>: <code>status</code>, <code>db_version</code>, <code>last_indexed</code>, <code>symbol_count</code></p>
<p><strong>Watchdog</strong>:</p>
<ul>
<li>Detects indexing stuck &gt;10 minutes</li>
<li>Sets <code>status='failed'</code> with error message</li>
<li>Safety check prevents hung process from overwriting after watchdog intervention</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div>
<h1 id="the-story-so-far"><a class="header" href="#the-story-so-far">The Story So Far</a></h1>
<p>This page captures the evolving narrative of context-daddy - not just what it does, but why it exists and what we’ve learned building it.</p>
<h2 id="the-vision"><a class="header" href="#the-vision">The Vision</a></h2>
<p>We started with a simple observation: Claude struggles with large codebases. It either drowns in context trying to understand everything at once, or makes blind guesses without sufficient understanding. There had to be a better way.</p>
<p>The solution: give Claude a structured way to explore code semantically. Instead of reading files randomly, it could query for symbols by name, understand the codebase structure through maps, and dive into specific implementations only when needed.</p>
<h2 id="evolution"><a class="header" href="#evolution">Evolution</a></h2>
<h3 id="v01-v03-the-naive-approach"><a class="header" href="#v01-v03-the-naive-approach">v0.1-v0.3: The Naive Approach</a></h3>
<p>Our first attempt was straightforward - use tree-sitter to parse code and generate repository maps. It worked fine for small projects but failed catastrophically on anything substantial. Memory would explode as we tried to parse everything simultaneously.</p>
<p><strong>Lesson learned</strong>: You can’t just load an entire codebase into memory. Even with tree-sitter’s efficiency, large repos require incremental processing.</p>
<h3 id="v04-v05-mcp-server-architecture"><a class="header" href="#v04-v05-mcp-server-architecture">v0.4-v0.5: MCP Server Architecture</a></h3>
<p>Static repository maps weren’t enough. Claude needed fast, targeted access to specific symbols. This led us to build an MCP server - a live query interface for code exploration rather than just generated static files.</p>
<p><strong>Lesson learned</strong>: The real value isn’t in the map itself, but in the ability to query it dynamically.</p>
<h3 id="v06-v08-process-management-nightmares"><a class="header" href="#v06-v08-process-management-nightmares">v0.6-v0.8: Process Management Nightmares</a></h3>
<p>This era was dominated by resource management issues:</p>
<ul>
<li>Indexing processes hanging after Claude sessions ended</li>
<li>Memory leaks from multiple tree-sitter instances</li>
<li>Lock file conflicts between concurrent sessions</li>
</ul>
<p>We went through multiple iterations:</p>
<ol>
<li><strong>PreToolUse hooks</strong> - Spawned too many background processes</li>
<li><strong>Thread-based indexing</strong> - Hung tree-sitter froze entire MCP server</li>
<li><strong>Multiprocess architecture</strong> - Finally isolated indexing properly</li>
</ol>
<p><strong>Lesson learned</strong>: Process isolation is worth the complexity. A hung parser shouldn’t take down the whole system.</p>
<h3 id="v09-database-versioning"><a class="header" href="#v09-database-versioning">v0.9: Database Versioning</a></h3>
<p>As the schema evolved, users hit compatibility issues between plugin versions. We added database versioning and learned that multiple Claude sessions can coexist with different plugin versions - we just need to handle schema mismatches gracefully.</p>
<p><strong>Lesson learned</strong>: Schema versioning isn’t optional. Plan for it from the start.</p>
<h3 id="v010-documentation--narrative"><a class="header" href="#v010-documentation--narrative">v0.10: Documentation &amp; Narrative</a></h3>
<p>A philosophical shift: understanding codebases isn’t just about parsing syntax. It’s about capturing the stories, decisions, and hard-won insights that accumulate around projects.</p>
<p>Traditional documentation captures <em>what</em> code does. Narratives capture <em>why</em> it exists and what we’ve learned building it.</p>
<p><strong>Lesson learned</strong>: Tribal knowledge is valuable and worth preserving systematically.</p>
<h2 id="dragons--gotchas"><a class="header" href="#dragons--gotchas">Dragons &amp; Gotchas</a></h2>
<p>Hard-won lessons that aren’t obvious from reading the code:</p>
<h3 id="hooks-autodiscovery-1"><a class="header" href="#hooks-autodiscovery-1">Hooks Autodiscovery</a></h3>
<p>The hooks system is more fragile than it appears. Declaring hooks in both <code>plugin.json</code> and <code>hooks/hooks.json</code> causes validation failures. The fix: only use <code>hooks/hooks.json</code> - Claude Code autodiscovers them.</p>
<h3 id="tree-sitter-memory"><a class="header" href="#tree-sitter-memory">Tree-sitter Memory</a></h3>
<p>Tree-sitter memory usage is unpredictable and can spike dramatically with certain file types or parsing errors. Our subprocess isolation helps, but resource limits are essential.</p>
<h3 id="sqlite-concurrency"><a class="header" href="#sqlite-concurrency">SQLite Concurrency</a></h3>
<p>WAL mode saves us from many concurrency issues, but database migrations still require care. We moved away from process locks (which caused deadlocks) to graceful cleanup based on process detection.</p>
<h3 id="mcp-server-lifecycle"><a class="header" href="#mcp-server-lifecycle">MCP Server Lifecycle</a></h3>
<p>The MCP server lifecycle is tightly coupled to Claude Code’s session management in ways that aren’t well-documented. We’ve reverse-engineered expected behaviors through trial and error - particularly around when servers start, stop, and restart.</p>
<h2 id="open-questions"><a class="header" href="#open-questions">Open Questions</a></h2>
<p>Things we’re still figuring out:</p>
<ul>
<li>
<p><strong>Cache invalidation</strong>: The current mtime+hash approach works but feels heavyweight. Filesystem watching or git hooks might be more elegant.</p>
</li>
<li>
<p><strong>Narrative maintenance</strong>: How do we keep tribal knowledge current without it becoming a maintenance burden? When should narratives be version-controlled?</p>
</li>
<li>
<p><strong>FTS utilization</strong>: The full-text search infrastructure exists but we haven’t found the right UX patterns to make it genuinely useful in Claude’s workflow.</p>
</li>
<li>
<p><strong>Validation</strong>: How do we measure whether narratives are actually useful? Technical metrics like indexing speed are easy; the value of tribal knowledge is harder to quantify.</p>
</li>
</ul>
<h2 id="philosophy"><a class="header" href="#philosophy">Philosophy</a></h2>
<p>A few principles that have emerged:</p>
<ol>
<li><strong>Structure before detail</strong> - Help Claude understand the map before exploring the territory</li>
<li><strong>Fail gracefully</strong> - A hung process shouldn’t corrupt data or block the session</li>
<li><strong>Context is precious</strong> - Return markdown, not JSON; be concise, not comprehensive</li>
<li><strong>Stories matter</strong> - The “why” is often more valuable than the “what”</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-c2a407aa.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-abc7f01d.js"></script>
        <script src="book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->
        <script src="mermaid-eefea253.min.js"></script>
        <script src="mermaid-init-ccf746f1.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>


    </div>
    </body>
</html>
